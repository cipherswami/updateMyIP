# UPDATE MY IP

This project is designed to monitor IP address changes on a system and automatically send updates to a remote server. It integrates seamlessly with our web login system at [INTENT Labs](https://github.com/intentlab-iitk/intentlab-iitk.github.io), allowing you to securely view your current IP address on the website.

Whether you're managing a lab network or simply want to keep track of your device's IP changes, this tool provides a reliable and automated solution.

## Prerequisites

- Linux system with `systemd`.
- Python 3.x installed.

## Installation [Linux]

### 1. Clone the Repository

```bash
git clone https://github.com/intentlab-iitk/updateMyIP
cd updateMyIP
```

### 2. **Set Up Your Password**

Before proceeding with the installation, you **must** set your password in the `updateMyIP.py` script.

```bash
nano src/updateMyIP.py
```
Look for this function and replace "YOUR_ACTUAL_PASSWORD_HERE" with your weblogin password.
```
# Locate the load_password function and replace the placeholder with your actual password:
def load_password(dev=0):
    if dev == 0:
        # Return your weblogin password
        return "YOUR_ACTUAL_PASSWORD_HERE"
...
```
Save and close the file [CTRL+s, CTRL+x]


### 3. Run the Installation Script

```bash
cd linux
sudo ./install.sh
```
- This script will:
    - Install required packages.
    - Copy the Python script (`updateMyIP.py`) to `/usr/local/bin/`.
    - Install the dispatcher script (`99-ip-change.sh`) to `/etc/NetworkManager/dispatcher.d/`.
    - Restart the NetworkManager to apply changes.
- Installation is complete! If you face any problems, check logs using the [Debugging](#debugging) section below.

## Uninstallation

1. **Run the Uninstallation Script:**

```bash
cd linux
sudo ./uninstall.sh
```

This script will:
- Remove the dispatcher script from `/etc/NetworkManager/dispatcher.d/`.
- Remove the Python script from `/usr/local/bin/`.
- Restart the NetworkManager.

## Debugging

To debug and view logs generated by the scripts, use `journalctl`:

  - View logs for the 99-ip-change.sh script  
```bash
journalctl -b -t IP_MONITOR
```
  - View logs for the updateMyIP.py script  
```bash
journalctl -b -t updateMyIP
```

## License
This project is licensed under the [MIT License](./LICENSE). See the `LICENSE` file for details.

## Author
Aravind Potluri (<aravindswami135@gmail.com>)
